---
{"dg-publish":true,"dg_publish":true,"permalink":"/knowladge/materi/sql/11-database-environment/","dgPassFrontmatter":true,"noteIcon":""}
---

#11_DATABASE_ENVIRONMENT
![[S 11 Lab Database Environment LAB.pptx]]

![[S 11 I SQL Data Manipulation and View Exercise 1.ppt]]

## Materi SQL Data Manipulation & View

### SQL Data Manipulation Language (DML)
DML merupakan bagian dari SQL yang digunakan untuk mengelola data dalam tabel database. Perintah DML meliputi:

1. **INSERT**: Menambah data baru ke tabel.
   ```sql
   INSERT INTO table_name (column1, column2, column3, ...)
   VALUES (value1, value2, value3, ...);
   ```

2. **UPDATE**: Memperbarui data yang sudah ada dalam tabel.
   ```sql
   UPDATE table_name
   SET column1 = value1, column2 = value2, ...
   WHERE condition;
   ```

3. **DELETE**: Menghapus data dari tabel.
   ```sql
   DELETE FROM table_name
   WHERE condition;
   ```

4. **SELECT**: Mengambil data dari tabel.
   ```sql
   SELECT column1, column2, ...
   FROM table_name
   WHERE condition;
   ```

### SQL Views
View adalah tabel virtual yang dibuat berdasarkan hasil query SQL. View mempermudah pengelolaan dan penggunaan data dalam database.

#### Membuat View
```sql
CREATE VIEW view_name AS
SELECT column1, column2, ...
FROM table_name
WHERE condition;
```

#### Menggunakan View
```sql
SELECT * FROM view_name;
```

### Contoh Kasus
E-marketplace untuk fotografer yang memungkinkan pengguna seperti Anthony untuk mempromosikan portofolionya dan pengguna seperti Rebecca untuk mencari dan menyewa fotografer secara online. Database diimplementasikan menggunakan MS SQL Server.

### Entity Relationship Diagram (ERD)
Berikut adalah ERD untuk kasus ini:

- **Customer**: Menyimpan informasi pelanggan.
- **Photographer**: Menyimpan informasi fotografer.
- **Transaction**: Menyimpan informasi transaksi.
- **Bank**: Menyimpan informasi bank.
- **Portfolio Album**: Menyimpan informasi album portofolio.
- **Payment**: Menyimpan informasi pembayaran.

## Soal Ujian Akhir
Berikut adalah beberapa soal untuk ujian akhir beserta tabel jawabannya:

### Soal
1. Buatlah query untuk menambah data fotografer baru ke tabel Photographer.
2. Buatlah query untuk memperbarui alamat seorang fotografer berdasarkan PhotographerID.
3. Buatlah query untuk menghapus data pelanggan yang tidak memiliki transaksi.
4. Buatlah view untuk menampilkan semua transaksi yang dilakukan oleh seorang pelanggan.
5. Buatlah query untuk menampilkan semua fotografer yang memiliki peralatan kamera tertentu.

### Tabel Jawaban
| No  | Soal                                                                                              | Jawaban                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| --- | ------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1   | Buatlah query untuk **menambah data** fotografer baru ke tabel Photographer.                      | INSERT INTO Photographer                                       <br>        (PhotographerID, PhotographerName, PhotographerGender, PhotographerAddress, PhotographerEmail, Skill, Camera, Lens, Equipment, AccountNumber, BankID, Description) <br>      VALUES                                                                                    <br>         (1, 'John Doe', 'Male', '123 Street', 'john.doe@example.com', 'Wedding', 'Canon EOS 5D', '50mm', 'Tripod', '1234567890', 1, 'Professional Photographer')                |
| 2   | Buatlah query untuk **memperbarui** alamat seorang fotografer berdasarkan PhotographerID.         | UPDATE Photographer                                                                     <br>     SET PhotographerAddress = '456 Avenue' <br>     WHERE PhotographerID = 1                                                                                                                                                                                                                                                                                                                                                              |
| 3   | Buatlah query untuk **menghapus data** pelanggan yang **tidak memiliki** transaksi.               | DELETE FROM Customer                                                             <br>      WHERE CustID                                                                           <br>      NOT IN (SELECT CustID                                                           <br>                    FROM Transaction)                                                                                                                                                                                                                  |
| 4   | Buatlah **view** untuk menampilkan **semua transaksi** yang dilakukan oleh seorang pelanggan.     | CREATE VIEW CustomerTransactions                                                 AS                                                                                                  <br>SELECT t.TransactionID, t.EventDate, t.EventTime, t.Duration, t.PlaceName, t.Location, t.BookingDate, c.CustName            FROM Transaction t                                                                          <br>   INNER JOIN Customer c                                                            <br>   ON t.CustID = c.CustID |
| 5   | Buatlah query untuk menampilkan **semua** fotografer **yang memiliki** peralatan kamera tertentu. | SELECT * FROM Photographer                                             <br>   WHERE Camera = 'Canon EOS 5D'                                                                                                                                                                                                                                                                                                                                                                                                                            |

